<!doctype html>
<html lang="en" class="dark">
<head>
  <title>Numyn â€“ Contact</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Contact Numyn for questions, feedback, or support." />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Numyn â€“ Contact" />
  <meta property="og:description" content="Get in touch with the creator of Numyn bookkeeping software." />

  <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            numyn: {
              navy: '#071B2F',
              navyLight: '#0D2A46',
              gold: '#F7B729',
              goldLight: '#FFCC4D'
            }
          },
          fontFamily: {
            sans: ['Nunito', 'system-ui', 'sans-serif']
          }
        }
      }
    };
  </script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="css/custom.css" />
</head>
<body class="min-h-screen bg-slate-100 text-slate-900 dark:bg-numyn-navy dark:text-slate-100 font-sans">

  <header class="border-b border-slate-200/70 dark:border-white/5 sticky top-0 z-20 bg-white/90 dark:bg-numyn-navy/90 backdrop-blur">
    <div class="max-w-5xl mx-auto px-4 py-3 flex items-center justify-between gap-4">
      <a href="index.html" class="flex items-center gap-2">
        <img src="assets/numyn-logo.png" alt="Numyn logo" class="h-8 w-8 rounded-lg" />
        <span class="text-lg font-extrabold tracking-tight text-slate-900 dark:text-slate-50">Numyn</span>
      </a>

      <div class="flex items-center gap-3">
        <nav class="hidden sm:flex items-center gap-6 text-sm text-slate-700 dark:text-slate-200">
          <a href="features.html" class="hover:text-numyn-gold transition">Features</a>
          <a href="purchase.html" class="hover:text-numyn-gold transition">Purchase</a>
          <a href="faq.html" class="hover:text-numyn-gold transition">FAQ</a>
          <a href="support.html" class="hover:text-numyn-gold transition">Support</a>
          <a href="contact.html" class="hover:text-numyn-gold transition">Contact</a>
          <a href="status.html" class="hover:text-numyn-gold transition">Status</a>
        </nav>

        <button
          type="button"
          onclick="toggleTheme()"
          class="hidden sm:inline-flex items-center justify-center rounded-full border border-slate-300/70 dark:border-white/20 px-2.5 py-1 text-xs font-medium text-slate-700 dark:text-slate-100 hover:bg-slate-100 dark:hover:bg-white/10 transition"
        >
          <span id="themeToggleIcon" aria-hidden="true">ðŸŒ™</span>
          <span class="sr-only">Toggle light/dark mode</span>
        </button>

        <a href="purchase.html" class="hidden sm:inline-flex px-4 py-2 rounded-full text-sm font-semibold bg-numyn-gold text-numyn-navy hover:bg-numyn-goldLight transition">
          Get Numyn
        </a>

        <button
          id="mobileMenuButton"
          type="button"
          class="sm:hidden inline-flex items-center justify-center rounded-full border border-slate-300/70 dark:border-white/20 p-2 text-slate-700 dark:text-slate-100 hover:bg-slate-100 dark:hover:bg-white/10 transition"
        >
          <span id="mobileMenuIconOpen" aria-hidden="true">â˜°</span>
          <span id="mobileMenuIconClose" class="hidden" aria-hidden="true">âœ•</span>
          <span class="sr-only">Toggle navigation</span>
        </button>
      </div>
    </div>

    <div
      id="mobileMenu"
      class="sm:hidden hidden border-t border-slate-200/70 dark:border-white/10 bg-white/95 dark:bg-numyn-navy/95"
    >
      <nav class="max-w-5xl mx-auto px-4 py-3 flex flex-col gap-3 text-sm text-slate-800 dark:text-slate-100">
        <a href="features.html" class="py-1 hover:text-numyn-gold transition">Features</a>
        <a href="purchase.html" class="py-1 hover:text-numyn-gold transition">Purchase</a>
        <a href="faq.html" class="py-1 hover:text-numyn-gold transition">FAQ</a>
        <a href="support.html" class="py-1 hover:text-numyn-gold transition">Support</a>
        <a href="contact.html" class="py-1 hover:text-numyn-gold transition">Contact</a>
        <a href="status.html" class="py-1 hover:text-numyn-gold transition">Status</a>

        <button
          type="button"
          onclick="toggleTheme()"
          class="mt-2 inline-flex items-center justify-center rounded-full border border-slate-300/70 dark:border-white/20 px-3 py-1.5 text-xs font-medium text-slate-700 dark:text-slate-100 hover:bg-slate-100 dark:hover:bg-white/10 transition"
        >
          <span id="themeToggleIconMobile" aria-hidden="true">ðŸŒ™</span>
          <span class="sr-only">Toggle light/dark mode</span>
        </button>

        <a
          href="purchase.html"
          class="mt-2 inline-flex items-center justify-center px-4 py-2 rounded-full text-sm font-semibold bg-numyn-gold text-numyn-navy hover:bg-numyn-goldLight transition"
        >
          Get Numyn
        </a>
      </nav>
    </div>
  </header>

  <main class="max-w-3xl mx-auto px-4 pt-10 pb-16">
    <div class="flex items-center gap-3 mb-6">
      <img src="assets/numyn-logo.png" alt="Numyn logo" class="h-10 w-10 rounded-xl shadow-sm" />
      <div>
        <h1 class="text-2xl md:text-3xl font-extrabold tracking-tight text-slate-900 dark:text-slate-50">
          Contact
        </h1>
        <p class="text-sm text-slate-700/90 dark:text-slate-200/90">
          Questions about Numyn, the launch, or bookkeeping in general? Send a message.
        </p>
      </div>
    </div>

    <form id="contactForm" class="space-y-4 rounded-2xl border border-slate-200/80 dark:border-slate-700 bg-white dark:bg-slate-900/80 p-4 shadow-sm">
      <div>
        <label class="block text-[11px] font-semibold uppercase tracking-[0.16em] text-slate-500 dark:text-slate-300 mb-1">
          Email address
        </label>
        <input
          type="email"
          name="email"
          required
          class="w-full rounded-lg border border-slate-300/80 dark:border-slate-700 bg-white dark:bg-slate-950 px-3 py-2 text-sm text-slate-900 dark:text-slate-100"
          placeholder="you@example.com"
        />
      </div>

      <div>
        <label class="block text-[11px] font-semibold uppercase tracking-[0.16em] text-slate-500 dark:text-slate-300 mb-1">
          Name (optional)
        </label>
        <input
          type="text"
          name="name"
          class="w-full rounded-lg border border-slate-300/80 dark:border-slate-700 bg-white dark:bg-slate-950 px-3 py-2 text-sm text-slate-900 dark:text-slate-100"
          placeholder="Kayden, Ash, etc."
        />
      </div>

      <div>
        <label class="block text-[11px] font-semibold uppercase tracking-[0.16em] text-slate-500 dark:text-slate-300 mb-1">
          Subject (optional)
        </label>
        <input
          type="text"
          name="subject"
          class="w-full rounded-lg border border-slate-300/80 dark:border-slate-700 bg-white dark:bg-slate-950 px-3 py-2 text-sm text-slate-900 dark:text-slate-100"
          placeholder="Question about Numyn Core, launch bundle, etc."
        />
      </div>

      <div>
        <label class="block text-[11px] font-semibold uppercase tracking-[0.16em] text-slate-500 dark:text-slate-300 mb-1">
          Message
        </label>
        <textarea
          name="message"
          required
          rows="5"
          class="w-full rounded-lg border border-slate-300/80 dark:border-slate-700 bg-white dark:bg-slate-950 px-3 py-2 text-sm text-slate-900 dark:text-slate-100"
          placeholder="Tell me what youâ€™re looking for or ask any questions you have."
        ></textarea>
      </div>

      <div id="contactMessage" class="text-[11px] min-h-[1.25rem]"></div>

      <div class="flex items-center justify-end gap-2">
        <a
          href="index.html"
          class="text-xs text-slate-500 hover:text-slate-800 dark:text-slate-300 dark:hover:text-slate-50"
        >
          Cancel
        </a>
        <button
          type="submit"
          id="contactSubmitBtn"
          class="inline-flex items-center justify-center rounded-full px-4 py-1.5 text-xs font-semibold bg-numyn-gold text-numyn-navy hover:bg-numyn-goldLight transition"
        >
          Send message
        </button>
      </div>
    </form>

    <p class="mt-4 text-[10px] text-slate-500 dark:text-slate-400">
      This form sends your message to the Numyn API at <span class="font-mono">api.numyn.ca</span>
      so it can be delivered to the developerâ€™s inbox. See the
      <a href="privacy.html" class="underline hover:text-numyn-gold">privacy policy</a>
      for how your information is handled.
    </p>
  </main>

  <footer class="border-t border-slate-200/70 dark:border-white/10 mt-10">
    <div class="max-w-5xl mx-auto px-4 py-6 flex flex-col md:flex-row items-center justify-between gap-4 text-xs text-slate-500 dark:text-slate-300/80">
      <p>Â© <span id="year"></span> Numyn. Built in Canada by Kayden Cormier.</p>
      <div class="flex gap-4">
        <a href="privacy.html" class="hover:text-numyn-gold">Privacy</a>
        <a href="eula.html" class="hover:text-numyn-gold">EULA</a>
        <a href="faq.html" class="hover:text-numyn-gold">FAQ</a>
      </div>
    </div>
  </footer>

  <script>
    (function () {
      const html = document.documentElement;

      const stored = localStorage.getItem("numyn-theme");
      const systemPrefersDark =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      const useDark = stored ? stored === "dark" : systemPrefersDark;
      html.classList.toggle("dark", useDark);

      const iconDesktop = document.getElementById("themeToggleIcon");
      const iconMobile = document.getElementById("themeToggleIconMobile");

      if (iconDesktop) iconDesktop.textContent = useDark ? "ðŸŒ™" : "â˜€ï¸";
      if (iconMobile) iconMobile.textContent = useDark ? "ðŸŒ™" : "â˜€ï¸";

      const yearEl = document.getElementById("year");
      if (yearEl) yearEl.textContent = new Date().getFullYear();

      const mobileBtn = document.getElementById("mobileMenuButton");
      const mobileMenu = document.getElementById("mobileMenu");
      const iconOpen = document.getElementById("mobileMenuIconOpen");
      const iconClose = document.getElementById("mobileMenuIconClose");

      if (mobileBtn && mobileMenu && iconOpen && iconClose) {
        mobileBtn.addEventListener("click", () => {
          mobileMenu.classList.toggle("hidden");
          iconOpen.classList.toggle("hidden");
          iconClose.classList.toggle("hidden");
        });
      }
    })();

    function toggleTheme() {
      const html = document.documentElement;
      const isDark = html.classList.toggle("dark");
      localStorage.setItem("numyn-theme", isDark ? "dark" : "light");

      const iconDesktop = document.getElementById("themeToggleIcon");
      const iconMobile = document.getElementById("themeToggleIconMobile");

      if (iconDesktop) iconDesktop.textContent = isDark ? "ðŸŒ™" : "â˜€ï¸";
      if (iconMobile) iconMobile.textContent = isDark ? "ðŸŒ™" : "â˜€ï¸";
    }

    // Contact form wiring
    (function () {
      const form = document.getElementById("contactForm");
      const msgEl = document.getElementById("contactMessage");
      const submitBtn = document.getElementById("contactSubmitBtn");

      const API_BASE =
        window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1"
          ? "http://127.0.0.1:8000"
          : "https://api.numyn.ca";

      if (!form) return;

      form.addEventListener("submit", async (e) => {
        e.preventDefault();
        msgEl.textContent = "";
        msgEl.className = "text-[11px] min-h-[1.25rem]";

        const formData = new FormData(form);
        const payload = {
          email: formData.get("email"),
          name: formData.get("name"),
          subject: formData.get("subject"),
          message: formData.get("message"),
        };

        submitBtn.disabled = true;
        submitBtn.textContent = "Sendingâ€¦";

        try {
          const res = await fetch(API_BASE + "/api/v1/contact", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(payload),
          });

          const data = await res.json().catch(() => ({}));

          if (res.ok && data.ok) {
            msgEl.textContent = data.message || "Thanks for reaching out!";
            msgEl.classList.add("text-emerald-400");
            form.reset();
          } else {
            msgEl.textContent = (data && data.error) || "Something went wrong. Please try again.";
            msgEl.classList.add("text-rose-400");
          }
        } catch (err) {
          msgEl.textContent = "Unable to reach the server. Please try again later.";
          msgEl.classList.add("text-rose-400");
        } finally {
          submitBtn.disabled = false;
          submitBtn.textContent = "Send message";
        }
      });
    })();
  </script>
</body>
</html>
